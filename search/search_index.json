{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"The WLCG Virtual Organization An instance of IAM has been deployed in support of WLCG development and integration activities in support of the migration to token-based authentication and authorization. The WLCG IAM instance is integrated with CERN SSO. Registration is active. IAM documentation is available here . Clients applications can be registered following these instructions , or using oidc-agent . VOMS support is enabled. To link an X.509 certificate to an existing IAM WLCG account, follow these instructions . As in VOMS, multiple certificates can be linked to an account. WLCG VO VOMS configuration VOMSES LSC To have a working VOMS configuration for the WLCG VO: place the lsc file in the /etc/grid-security/vomsdir/wlcg directory place the vomses file in the /etc/vomses directory (only needed if you need to do voms-proxy-init ) The latest supported VOMS clients are required (i.e., voms-proxy-init v. >=3 ). Also note that this VO is supported by IAM, i.e. there are no VOMS Admin endpoints that can be used to generate Gridmap files. Example $ voms-proxy-init -voms wlcg Enter GRID pass phrase for this identity: Contacting wlcg-voms.cloud.cnaf.infn.it:15001 [/DC=org/DC=terena/DC=tcs/C=IT/L=Frascati/O=Istituto Nazionale di Fisica Nucleare/CN=voms-wlcg.cloud.cnaf.infn.it] \"wlcg\"... Remote VOMS server contacted succesfully. Created proxy in /tmp/x509up_u501. Your proxy is valid until Thu Jan 30 03:47:58 CET 2020 $ voms-proxy-info -all subject : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it/CN=743668640 issuer : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it identity : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it type : RFC3820 compliant impersonation proxy strength : 1024 path : /tmp/x509up_u501 timeleft : 11:59:55 key usage : Digital Signature, Key Encipherment, Data Encipherment === VO wlcg extension information === VO : wlcg subject : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it issuer : /DC=org/DC=terena/DC=tcs/C=IT/L=Frascati/O=Istituto Nazionale di Fisica Nucleare/CN=wlcg-voms.cloud.cnaf.infn.it attribute : /wlcg attribute : /wlcg/xfers timeleft : 11:59:55 uri : wlcg-voms.cloud.cnaf.infn.it:15001 Token-based authN/Z See the token-based authn/z section .","title":"The WLCG Virtual Organization"},{"location":"#the-wlcg-virtual-organization","text":"An instance of IAM has been deployed in support of WLCG development and integration activities in support of the migration to token-based authentication and authorization. The WLCG IAM instance is integrated with CERN SSO. Registration is active. IAM documentation is available here . Clients applications can be registered following these instructions , or using oidc-agent . VOMS support is enabled. To link an X.509 certificate to an existing IAM WLCG account, follow these instructions . As in VOMS, multiple certificates can be linked to an account.","title":"The WLCG Virtual Organization"},{"location":"#wlcg-vo-voms-configuration","text":"VOMSES LSC To have a working VOMS configuration for the WLCG VO: place the lsc file in the /etc/grid-security/vomsdir/wlcg directory place the vomses file in the /etc/vomses directory (only needed if you need to do voms-proxy-init ) The latest supported VOMS clients are required (i.e., voms-proxy-init v. >=3 ). Also note that this VO is supported by IAM, i.e. there are no VOMS Admin endpoints that can be used to generate Gridmap files.","title":"WLCG VO VOMS configuration"},{"location":"#example","text":"$ voms-proxy-init -voms wlcg Enter GRID pass phrase for this identity: Contacting wlcg-voms.cloud.cnaf.infn.it:15001 [/DC=org/DC=terena/DC=tcs/C=IT/L=Frascati/O=Istituto Nazionale di Fisica Nucleare/CN=voms-wlcg.cloud.cnaf.infn.it] \"wlcg\"... Remote VOMS server contacted succesfully. Created proxy in /tmp/x509up_u501. Your proxy is valid until Thu Jan 30 03:47:58 CET 2020 $ voms-proxy-info -all subject : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it/CN=743668640 issuer : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it identity : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it type : RFC3820 compliant impersonation proxy strength : 1024 path : /tmp/x509up_u501 timeleft : 11:59:55 key usage : Digital Signature, Key Encipherment, Data Encipherment === VO wlcg extension information === VO : wlcg subject : /DC=org/DC=terena/DC=tcs/C=IT/O=Istituto Nazionale di Fisica Nucleare/CN=Andrea Ceccanti aceccant@infn.it issuer : /DC=org/DC=terena/DC=tcs/C=IT/L=Frascati/O=Istituto Nazionale di Fisica Nucleare/CN=wlcg-voms.cloud.cnaf.infn.it attribute : /wlcg attribute : /wlcg/xfers timeleft : 11:59:55 uri : wlcg-voms.cloud.cnaf.infn.it:15001","title":"Example"},{"location":"#token-based-authnz","text":"See the token-based authn/z section .","title":"Token-based authN/Z"},{"location":"token-based-authz/","text":"Token-based authorization Getting an account on the wlcg IAM instance Registering a client in the WLCG IAM instance Getting tokens out IAM Scope-based authorization Group-based authorization Adding audience constraints","title":"Token-based authorization"},{"location":"token-based-authz/#token-based-authorization","text":"","title":"Token-based authorization"},{"location":"token-based-authz/#getting-an-account-on-the-wlcg-iam-instance","text":"","title":"Getting an account on the wlcg IAM instance"},{"location":"token-based-authz/#registering-a-client-in-the-wlcg-iam-instance","text":"","title":"Registering a client in the WLCG IAM instance"},{"location":"token-based-authz/#getting-tokens-out-iam","text":"","title":"Getting tokens out IAM"},{"location":"token-based-authz/#scope-based-authorization","text":"","title":"Scope-based authorization"},{"location":"token-based-authz/#group-based-authorization","text":"","title":"Group-based authorization"},{"location":"token-based-authz/#adding-audience-constraints","text":"","title":"Adding audience constraints"}]}